<!DOCTYPE html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
<link rel='icon' href='favicon.ico' type='image/x-icon'>


<link rel="stylesheet" href="jquery-ui.css">
<link rel="stylesheet" href="bootstrap.css">
<link rel="stylesheet" href="index.css">


<script language="JavaScript" src="jquery.slim.js"></script>
<script language="JavaScript" src="jquery.js"></script>
<script language="JavaScript" src="jquery-ui.js"></script>
<script language="JavaScript" src="tether.js"></script>
<script language="JavaScript" src="bootstrap.js"></script>
<script language="JavaScript" src="index.js"></script>

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>References</title>
	</head>
	<body>
<ul id='VODM307921' style='font-size:100%;width: 100%; min-height: 45px;line-height: 45px;display: none;position:relative;text-align:center;;z-index:1;'>
<li class="ui-menu-item" style=""><a href='#' target='_self'><img src="logo.png" style="object-fit:cover;padding:0;width:30px;height:30px;margin-top:-3px;margin-right:5px;vertical-align:middle;;width: auto !important;;">Sanwhole Examples</a></li>
<li class="" style=""><a href='Home.html' target='_self'>Home</a></li>
<li class="" style=""><a href='Main.html' target='_self'>Main</a></li>
<li class="" style=""><a href='#' target='_self'>Methods</a>
<ul class='ui-state-default'>
<li class="" style=""><a href='Source properties.html' target='_self'>Source properties</a></li>
<li class="" style=""><a href='Observations_ data reduction and imaging.html' target='_self'>Observations, data reduction and imaging</a></li>
<li class="" style=""><a href='Spatial PSD analysis.html' target='_self'>Spatial PSD analysis</a></li>
<li class="" style=""><a href='Stellar disk profile.html' target='_self'>Stellar disk profile</a></li>
<li class="" style=""><a href='Band 6 observations.html' target='_self'>Band 6 observations</a></li>
<li class="" style=""><a href='Data availability.html' target='_self'>Data availability</a></li>
</ul>
</li>
<li class="" style=""><a href='Code availability.html' target='_self'>Code availability</a></li>
<li class="" style=""><a href='References.html' target='_self'>References</a></li>
</ul><style>
#VODM307921{z-index: 1 !important;}
#VODM307921 li{ line-height: normal;text-align:left;}
#VODM307921 > li{display: inline-block; margin-right:3px;}
#VODM307921 a{display: block;white-space: nowrap;text-decoration: none;}
#VODM307921 > li > ul > li{display: block;}
#VODM307921 > li > ul > li > a{padding-top: 5px;padding-bottom:5px;}
</style><script>
$(function () {
var VODM791954 = $("#VODM307921").css('top')
if(VODM791954 == '0px')
{
$("#VODM307921").before("<div id='VODM307921_block'></div>");
} else {
$("body").append("<div id='VODM307921_block'></div>");
}
$("#VODM307921").menu();
$("#VODM307921").menu({
position: { my: 'left top', at: 'left bottom' },
blur: function() {
$(this).menu('option', 'position', { my: 'left top', at: 'left bottom' });
},
focus: function(e, ui) {
if ($('#VODM307921').get(0) !== $(ui).get(0).item.parent().get(0)) {
$(this).menu('option', 'position', { my: 'left top', at: 'right top' });
}
},
}).ready(function(){
$(window).resize(function () {
$("#VODM307921_block").css("height", $("#VODM307921").height());
});
$("#VODM307921_block").css("height", $("#VODM307921").height());
});
$("#VODM307921").addClass("ui-widget-header");
$("#VODM307921").show();
});
</script>



		<table border="0" cellspacing="0" cellpadding="0" width="85%" align="center" style="border-collapse:collapse;">
			<tr>
				<td valign="top" style="width:1090.8pt;padding:0pt 5.4pt 0pt 5.4pt;border-top:none;border-right:none;border-bottom:none;border-left:none;"><p style="text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#000000;background-color:transparent;font-family:Calibri;font-size:11pt;font-weight:normal;font-style:normal;">&nbsp;</span></p>
<table border="0" cellspacing="0" cellpadding="0" width="90%" align="center" style="border-collapse:collapse;">
					<tr>
						<td style="width:648pt;padding:0pt 5.4pt 0pt 5.4pt;border-top:none;border-right:none;border-bottom:none;border-left:none;"><ol start="2" style="margin-top:0;margin-bottom:0;">
							<li value="2" style="text-align:justify;margin:0pt 0pt 0pt -18pt;line-height:1.5;list-style-type:decimal;color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;"><a name="_Hlk180276113"><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">Lecoanet, D. &amp; Edelmann, P. V. F. Multidimensional simulations of core convection.&nbsp;</span><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:italic;">Galaxies</span><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">&nbsp;</span><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:bold;font-style:normal;">11</span><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">, 89 (2023). </span></a></li><li style="text-align:justify;margin:0pt 0pt 0pt -18pt;line-height:1.5;list-style-type:decimal;color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;"><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">Kupka, F. &amp; Muthsam, H. J. Modelling of stellar convection.&nbsp;</span><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:italic;">Living Rev. Comput. Astrophys.</span><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">&nbsp;</span><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:bold;font-style:normal;">3</span><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">, 1 (2017).</span></li><li style="text-align:justify;margin:0pt 0pt 0pt -18pt;line-height:1.5;list-style-type:decimal;color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;"><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">Nordlund, &Aring;., Stein, R. F. &amp; Asplund, M. Solar surface convection.&nbsp;</span><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:italic;">Living Rev. Sol. Phys.</span><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">&nbsp;</span><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:bold;font-style:normal;">6</span><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">, 2 (2009).</span></li></ol>
						<p style="text-align:center;text-indent:0pt;margin:12pt 0pt 12pt 0pt;"><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:bold;font-style:normal;">&nbsp;</span></p>
<p style="text-align:center;text-indent:0pt;margin:12pt 0pt 12pt 0pt;"><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:bold;font-style:normal;">Vole Briefcase HTML5 Web Controls Examples &ndash; HTML Code</span></p>
<p style="text-align:center;text-indent:0pt;margin:12pt 0pt 12pt 0pt;line-height:1.5;"><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:bold;font-style:normal;">Insert HTML GAME </span></p>
<p style="text-align:justify;text-indent:0pt;margin:12pt 0pt 12pt 0pt;line-height:1.5;"><span style="color:#00B050;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">Vole Briefcase can add rich HTML5 web controls to the slides, such as the well-known Slideshow. When editing Word, insert a preset table at the location where the Slideshow control needs to be displayed. And replace the images and text descriptions in the table. This slide show is completed. During the presentation, the software will render the table as a Slideshow before displaying it. The supported HTML5 web controls include Hover Zoom, Zoom Modal, Slideshow, Accordion, Light Box, Accordion, List Scroller, Advanced Tabs, Tree, Custom HTML Code, etc. Some of them can enhance the presentation effect, while others, such as Tree, Tabs, Accordion, are very useful for accommodating large amounts of text, images, and table data. It can make&nbsp;your&nbsp;presentation content both beautiful and informative.</span></p>
<p style="text-align:left;text-indent:0pt;margin:12pt 0pt 12pt 0pt;"><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">Vole Briefcase&nbsp;</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">可在幻灯片添加丰富的</span><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">HTML5 Web</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">控件</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">，</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">比如我们熟知的</span><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">Slideshow</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">。</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">在编辑</span><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">Word</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">时</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">，</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">在需要显示</span><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">Slideshow</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">控件的位置插入一个预设表格</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">。</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">并替换表格内的图片和文字介绍</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">。</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">这个</span><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">Slideshow</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">就完成了</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">。</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">系统在演示时</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">，</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">会将该表格渲染成</span><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">Slideshow</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">后再显示</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">。</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">支持的</span><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">HTML5 web controls</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">包括</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">：</span><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">Hover Zoom, Zoom Modal, Slideshow, Accordion, Light Box, Accordion, List Scroller, Advanced Tabs, Tree, Custom HTML Code</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">等</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">。</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">其中一些可以增强演示效果</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">，</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">而另外一些</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">，</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">如</span><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">Tree</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">，</span><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">Tabs, Accordion&nbsp;</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">在容纳大量的文字</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">，</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">图片和表格数据上非常有用</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">。</span><span style="color:#00B0F0;background-color:transparent;font-family:'Microsoft YaHei Light';font-size:13pt;font-weight:normal;font-style:normal;">它可以让你的演示内容既美观又不失内含</span><span style="color:#00B0F0;background-color:transparent;font-family:'Malgun Gothic Semilight';font-size:13pt;font-weight:normal;font-style:normal;">。</span></p>
</td><td valign="top" style="width:403.75pt;padding:0pt 5.4pt 0pt 5.4pt;border-top:none;border-right:none;border-bottom:none;border-left:none;"><p style="text-align:left;text-indent:0pt;margin:12pt 0pt 12pt 0pt;line-height:1.5;"><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:bold;font-style:normal;">&nbsp;</span></p>
<table class='swct' cellspacing="0" cellpadding="0" border="0" style='border-collapse:collapse;border:none;width:100%;'><tr><td><iframe width="350" height="700" srcdoc="<!DOCTYPE html>
<html>
<head>
  <title>Basic Tetris HTML Game</title>
  <meta charset=&quot;UTF-8&quot;>
  <style>
  html, body {
    height: 100%;
    margin: 0;
  }

  body {
    background: black;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  canvas {
    border: 1px solid white;
  }
  </style>
</head>
<body>
<canvas width=&quot;320&quot; height=&quot;640&quot; id=&quot;game&quot;></canvas>
<script>
// https://tetris.fandom.com/wiki/Tetris_Guideline

// get a random integer between the range of [min,max]
// @see https://stackoverflow.com/a/1527820/2124254
function getRandomInt(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);

  return Math.floor(Math.random() * (max - min + 1)) + min;
}

// generate a new tetromino sequence
// @see https://tetris.fandom.com/wiki/Random_Generator
function generateSequence() {
  const sequence = ['I', 'J', 'L', 'O', 'S', 'T', 'Z'];

  while (sequence.length) {
    const rand = getRandomInt(0, sequence.length - 1);
    const name = sequence.splice(rand, 1)[0];
    tetrominoSequence.push(name);
  }
}

// get the next tetromino in the sequence
function getNextTetromino() {
  if (tetrominoSequence.length === 0) {
    generateSequence();
  }

  const name = tetrominoSequence.pop();
  const matrix = tetrominos[name];

  // I and O start centered, all others start in left-middle
  const col = playfield[0].length / 2 - Math.ceil(matrix[0].length / 2);

  // I starts on row 21 (-1), all others start on row 22 (-2)
  const row = name === 'I' ? -1 : -2;

  return {
    name: name,      // name of the piece (L, O, etc.)
    matrix: matrix,  // the current rotation matrix
    row: row,        // current row (starts offscreen)
    col: col         // current col
  };
}

// rotate an NxN matrix 90deg
// @see https://codereview.stackexchange.com/a/186834
function rotate(matrix) {
  const N = matrix.length - 1;
  const result = matrix.map((row, i) =>
    row.map((val, j) => matrix[N - j][i])
  );

  return result;
}

// check to see if the new matrix/row/col is valid
function isValidMove(matrix, cellRow, cellCol) {
  for (let row = 0; row < matrix.length; row++) {
    for (let col = 0; col < matrix[row].length; col++) {
      if (matrix[row][col] && (
          // outside the game bounds
          cellCol + col < 0 ||
          cellCol + col >= playfield[0].length ||
          cellRow + row >= playfield.length ||
          // collides with another piece
          playfield[cellRow + row][cellCol + col])
        ) {
        return false;
      }
    }
  }

  return true;
}

// place the tetromino on the playfield
function placeTetromino() {
  for (let row = 0; row < tetromino.matrix.length; row++) {
    for (let col = 0; col < tetromino.matrix[row].length; col++) {
      if (tetromino.matrix[row][col]) {

        // game over if piece has any part offscreen
        if (tetromino.row + row < 0) {
          return showGameOver();
        }

        playfield[tetromino.row + row][tetromino.col + col] = tetromino.name;
      }
    }
  }

  // check for line clears starting from the bottom and working our way up
  for (let row = playfield.length - 1; row >= 0; ) {
    if (playfield[row].every(cell => !!cell)) {

      // drop every row above this one
      for (let r = row; r >= 0; r--) {
        for (let c = 0; c < playfield[r].length; c++) {
          playfield[r][c] = playfield[r-1][c];
        }
      }
    }
    else {
      row--;
    }
  }

  tetromino = getNextTetromino();
}

// show the game over screen
function showGameOver() {
  cancelAnimationFrame(rAF);
  gameOver = true;

  context.fillStyle = 'black';
  context.globalAlpha = 0.75;
  context.fillRect(0, canvas.height / 2 - 30, canvas.width, 60);

  context.globalAlpha = 1;
  context.fillStyle = 'white';
  context.font = '36px monospace';
  context.textAlign = 'center';
  context.textBaseline = 'middle';
  context.fillText('GAME OVER!', canvas.width / 2, canvas.height / 2);
}

const canvas = document.getElementById('game');
const context = canvas.getContext('2d');
const grid = 32;
const tetrominoSequence = [];

// keep track of what is in every cell of the game using a 2d array
// tetris playfield is 10x20, with a few rows offscreen
const playfield = [];

// populate the empty state
for (let row = -2; row < 20; row++) {
  playfield[row] = [];

  for (let col = 0; col < 10; col++) {
    playfield[row][col] = 0;
  }
}

// how to draw each tetromino
// @see https://tetris.fandom.com/wiki/SRS
const tetrominos = {
  'I': [
    [0,0,0,0],
    [1,1,1,1],
    [0,0,0,0],
    [0,0,0,0]
  ],
  'J': [
    [1,0,0],
    [1,1,1],
    [0,0,0],
  ],
  'L': [
    [0,0,1],
    [1,1,1],
    [0,0,0],
  ],
  'O': [
    [1,1],
    [1,1],
  ],
  'S': [
    [0,1,1],
    [1,1,0],
    [0,0,0],
  ],
  'Z': [
    [1,1,0],
    [0,1,1],
    [0,0,0],
  ],
  'T': [
    [0,1,0],
    [1,1,1],
    [0,0,0],
  ]
};

// color of each tetromino
const colors = {
  'I': 'cyan',
  'O': 'yellow',
  'T': 'purple',
  'S': 'green',
  'Z': 'red',
  'J': 'blue',
  'L': 'orange'
};

let count = 0;
let tetromino = getNextTetromino();
let rAF = null;  // keep track of the animation frame so we can cancel it
let gameOver = false;

// game loop
function loop() {
  rAF = requestAnimationFrame(loop);
  context.clearRect(0,0,canvas.width,canvas.height);

  // draw the playfield
  for (let row = 0; row < 20; row++) {
    for (let col = 0; col < 10; col++) {
      if (playfield[row][col]) {
        const name = playfield[row][col];
        context.fillStyle = colors[name];

        // drawing 1 px smaller than the grid creates a grid effect
        context.fillRect(col * grid, row * grid, grid-1, grid-1);
      }
    }
  }

  // draw the active tetromino
  if (tetromino) {

    // tetromino falls every 35 frames
    if (++count > 35) {
      tetromino.row++;
      count = 0;

      // place piece if it runs into anything
      if (!isValidMove(tetromino.matrix, tetromino.row, tetromino.col)) {
        tetromino.row--;
        placeTetromino();
      }
    }

    context.fillStyle = colors[tetromino.name];

    for (let row = 0; row < tetromino.matrix.length; row++) {
      for (let col = 0; col < tetromino.matrix[row].length; col++) {
        if (tetromino.matrix[row][col]) {

          // drawing 1 px smaller than the grid creates a grid effect
          context.fillRect((tetromino.col + col) * grid, (tetromino.row + row) * grid, grid-1, grid-1);
        }
      }
    }
  }
}

// listen to keyboard events to move the active tetromino
document.addEventListener('keydown', function(e) {
  if (gameOver) return;

  // left and right arrow keys (move)
  if (e.which === 37 || e.which === 39) {
    const col = e.which === 37
      ? tetromino.col - 1
      : tetromino.col + 1;

    if (isValidMove(tetromino.matrix, tetromino.row, col)) {
      tetromino.col = col;
    }
  }

  // up arrow key (rotate)
  if (e.which === 38) {
    const matrix = rotate(tetromino.matrix);
    if (isValidMove(matrix, tetromino.row, tetromino.col)) {
      tetromino.matrix = matrix;
    }
  }

  // down arrow key (drop)
  if(e.which === 40) {
    const row = tetromino.row + 1;

    if (!isValidMove(tetromino.matrix, row, tetromino.col)) {
      tetromino.row = row - 1;

      placeTetromino();
      return;
    }

    tetromino.row = row;
  }
});

// start the game
rAF = requestAnimationFrame(loop);
</script>
</body>
</html>"></iframe></td></tr></table>
						<p style="text-align:left;text-indent:0pt;margin:12pt 0pt 12pt 0pt;line-height:1.5;"><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:bold;font-style:normal;">&nbsp;</span></p>
<p style="text-align:left;text-indent:0pt;margin:12pt 0pt 12pt 0pt;line-height:1.5;"><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:bold;font-style:normal;">&nbsp;</span></p>
<p style="text-align:left;text-indent:0pt;margin:12pt 0pt 12pt 0pt;line-height:1.5;"><span style="color:#00B0F0;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:bold;font-style:normal;">&nbsp;</span></p>
</td></tr>
				</table>
				<p style="text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#000000;background-color:transparent;font-family:Calibri;font-size:11pt;font-weight:normal;font-style:normal;">&nbsp;</span></p>
<p style="text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#000000;background-color:transparent;font-family:Calibri;font-size:11pt;font-weight:normal;font-style:normal;">&nbsp;</span></p>
</td></tr>
		</table>
		<p style="text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt;"><span style="color:#000000;background-color:transparent;font-family:Calibri;font-size:11pt;font-weight:normal;font-style:normal;">&nbsp;</span></p>
<p style="text-align:justify;text-indent:0pt;margin:0pt 0pt 0pt 18pt;line-height:1.5;"><span style="color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:13pt;font-weight:normal;font-style:normal;">&nbsp;</span></p>



</body>
</html>
